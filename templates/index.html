{% extends "base.html" %}
{% block title %}Poƒçetna stranica{% endblock %}
{% block head %}
	{{ super() }}
	<style>
	</style>
{% endblock %}

{% block body %}
<h1 class="mb-4">Flask-Blog</h1>

<div class="mt-4">
    <h4>current_user:</h4>
    <p>is_authenticated: <b>{{current_user.is_authenticated}}</b></p>
    <p>is_active: <b>{{current_user.is_active}}</b></p>
    <p>is_anonymous: <b>{{current_user.is_anonymous}}</b></p>
    <p>get_id(): <b>{{current_user.get_id()}}</b></p>
</div>

<ul class="col-8 list-unstyled">
    {% for post in posts %}
    <li>
        <h2><a href="{{ url_for('post_view', post_id=post['_id']) }}" class="text-dark text-decoration-none">{{ post.title }}</a></h2>
        {% if post.image_id %}
        <img src="{{ url_for('serve_image', image_id=post.image_id) }}" class="img-fluid" alt="Post image">
        {% endif %}
        <p><strong>Autor:</strong> {{ post.author }} - {{ post.date.strftime('%d.%m.%Y') }}</p>
        <p class="mt-2">{% for tag in post.tags.split(',') %}
            <span class="badge bg-primary">{{ tag }}</span>
        {% endfor %}</p>
        <p>{{ post.content | markdown | safe }}</p>
        <hr>
    </li>
    {% endfor %}    
</ul>

{% endblock %}

